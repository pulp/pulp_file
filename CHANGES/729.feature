Added new condition on file uploads to require ``repository`` field if user is not an admin.
